DROP DATABASE IF EXISTS EVENTOS; 
CREATE DATABASE IF NOT EXISTS EVENTOS;
USE EVENTOS;


DROP TABLE IF EXISTS ORGANIZADORES;
CREATE TABLE IF NOT EXISTS ORGANIZADORES (IDOrganizador int primary key not null,nome varchar (50),contato varchar(12));

INSERT INTO ORGANIZADORES (IDOrganizador,nome,contato) values(1,'Jorge', '53 9913-4448');
SELECT * FROM ORGANIZADORES; 

DROP TABLE IF EXISTS LOCAL;
CREATE TABLE IF NOT exists LOCAL (IDLOCAL INT PRIMARY KEY NOT NULL, NOME VARCHAR (50) ,ENDEREÇO VARCHAR (50), CAPACIDADE INT);

INSERT INTO LOCAL (IDLOCAL,NOME,ENDEREÇO,CAPACIDADE) VALUES (1,'CE FENADOCE', 'PINHEIRO MACHADO 160', '200000');
INSERT INTO LOCAL (IDLOCAL,NOME,ENDEREÇO,CAPACIDADE) VALUES (2, 'Arena Multiuso Sol Nascente', 'Av. Litorânea, 450', 65000);
INSERT INTO LOCAL (IDLOCAL,NOME,ENDEREÇO,CAPACIDADE) VALUES (3, 'Teatro Municipal A. Faria', 'R. das Artes, 10', 1200);
INSERT INTO LOCAL (IDLOCAL,NOME,ENDEREÇO,CAPACIDADE) VALUES (4, 'Centro de Convenções Atlântico', 'Rodovia do Sol, Km 5', 8000);

SELECT * FROM LOCAL;

DROP TABLE IF EXISTS EVENTO;
CREATE TABLE IF NOT EXISTS EVENTO (IDEVENTO INT primary KEY NOT NULL , NOME varchar(200) , DESCRIÇÃO VARCHAR(500), PREÇO_BASE numeric(5, 2));
INSERT INTO EVENTO (IDEVENTO,NOME,DESCRIÇÃO,PREÇO_BASE) VALUES (1, 'Show musical', 'Show da banda Calipso', 120.00);
INSERT INTO EVENTO (IDEVENTO, NOME, DESCRIÇÃO, PREÇO_BASE) VALUES (2, 'Congresso Tech Summit', 'Conferência de tecnologia sobre IA e Cloud Computing', 450.50);
INSERT INTO EVENTO (IDEVENTO, NOME, DESCRIÇÃO, PREÇO_BASE) VALUES (3, 'Feira de Artesanato Local', 'Exposição e venda de produtos artesanais da região', 15.00);
INSERT INTO EVENTO (IDEVENTO, NOME, DESCRIÇÃO, PREÇO_BASE) VALUES (4, 'Palestra "Inovação e Futuro"', 'Apresentação com renomado especialista em tendências de mercado', 85.90);

SELECT * FROM EVENTO;

DROP TABLE IF EXISTS ATIVIDADE;
CREATE TABLE IF NOT EXISTS ATIVIDADE(IDATIVIDADE INT PRIMARY KEY NOT NULL,NOME VARCHAR (100),HORÁRIO TIME, DURAÇÃO TIME );
INSERT INTO ATIVIDADE (IDATIVIDADE,NOME,HORÁRIO,DURAÇÃO) VALUES(1,'Show Banda Calipso', '22:30:00', '04:00:00');

SELECT * FROM ATIVIDADE;

DROP TABLE IF EXISTS PARTICIPANTE;
CREATE TABLE IF NOT EXISTS PARTICIPANTE(IDPARTICIPANTE INT PRIMARY KEY NOT NULL, NOME VARCHAR(200), EMAIL VARCHAR  (100) ,TELEFONE VARCHAR(20) );
INSERT INTO PARTICIPANTE (IDPARTICIPANTE, NOME,EMAIL,TELEFONE) VALUES (1,'RENATTO', 'renatoenatto@gmail.com' , '55-8414-4489'  );

SELECT * FROM PARTICIPANTE;

DROP TABLE IF EXISTS  INGRESSO;
CREATE TABLE IF NOT EXISTS INGRESSO (IDINGRESSO INT PRIMARY KEY NOT NULL, DATA_COMPRA DATE, PREÇO_PAGO NUMERIC (5, 2), TIPO VARCHAR (100));
INSERT INTO INGRESSO (IDINGRESSO, DATA_COMPRA,PREÇO_PAGO,TIPO) VALUES (1, '2025-05-28', 23.90, 'COMUM');
INSERT INTO INGRESSO (IDINGRESSO, DATA_COMPRA,PREÇO_PAGO,TIPO) VALUES (2, '2025-05-28', 99.90, 'VIP');
INSERT INTO INGRESSO (IDINGRESSO, DATA_COMPRA,PREÇO_PAGO,TIPO) VALUES (3, '2025-05-28', 99.90, 'VIP');
-- 
UPDATE INGRESSO
 SET PREÇO_PAGO = 49.90, 
 TIPO = 'MEIA_ENTRADA'
WHERE IDINGRESSO = 2;



DELETE FROM INGRESSO WHERE IDINGRESSO = 1;
SELECT * FROM INGRESSO; 


SELECT NOME ,CAPACIDADE FROM LOCAL 
WHERE CAPACIDADE > 62000;



SELECT
    TIPO,
    COUNT(IDINGRESSO) AS Total_Ingressos_Por_Tipo FROM
    INGRESSO
GROUP BY TIPO;


SELECT NOME, PREÇO_BASE
FROM EVENTO
ORDER BY PREÇO_BASE DESC;



SELECT PREÇO_PAGO, TIPO
FROM INGRESSO
WHERE DAYOFMONTH(DATA_COMPRA) = 28;


SELECT SUM(PREÇO_PAGO) AS VALOR_TOTAL
FROM INGRESSO;

DELETE FROM LOCAL
WHERE IDLOCAL = 2;
